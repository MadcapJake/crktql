:root{--font-family: "Inter", system-ui, Avenir, Helvetica, Arial, sans-serif;--line-height: 1.5;--font-weight: 400;--color-bg: #0f0f13;--color-text: #e0e0e0;--color-primary: #646cff;--color-secondary: #535bf2;--color-accent: #ff0055;--highlight-color: #ff0055;--color-surface: #1e1e24;--color-surface-hover: #2a2a32;--shadow-lg: 0 10px 30px -10px rgba(0, 0, 0, .5);color-scheme:light dark;color:var(--color-text);background-color:var(--color-bg);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*{box-sizing:border-box;margin:0;padding:0}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh;font-family:var(--font-family)}#app{width:100%;height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.container{width:100%;height:100vh;display:flex;flex-direction:column;padding:0;gap:0;position:relative;overflow:hidden;background:#111}.bottom-bar{display:flex;gap:12px;align-items:center;width:100%;padding:1rem 2rem;background:var(--color-surface);border-top:1px solid rgba(255,255,255,.1);z-index:50;transition:background-color .2s;margin-top:auto;position:relative}#notification-area{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:200;width:auto}.notification-toast{background:transparent;border:none;color:#fff;padding:0;margin:0;font-size:1.2rem;font-weight:500;animation:fadeOut 3s forwards;white-space:nowrap;text-shadow:0 1px 3px rgba(0,0,0,.5)}@keyframes fadeOut{0%{opacity:0;transform:translateY(10px)}10%{opacity:1;transform:translateY(0)}80%{opacity:1}to{opacity:0}}.bottom-bar.nav-active{background:#2a2a35;box-shadow:0 -4px 20px #00000080}.nav-selected{color:var(--color-accent);opacity:1;transform:scale(1.2);text-shadow:0 0 10px var(--color-accent)}.header-actions{margin-left:auto;display:flex;gap:12px;align-items:center}#mode-indicator,#case-indicator{padding:8px 12px;background-color:var(--surface-light);border-radius:8px;font-size:1.5rem;color:var(--primary);box-shadow:0 2px 4px #0003;min-width:50px;display:flex;justify-content:center;align-items:center}#case-indicator{color:var(--secondary)}.editor-container{flex:1;background:var(--color-bg);width:100%;height:100%;display:flex;flex-direction:column;position:relative}.editor-container{width:60%;margin-bottom:20px}.custom-editor{width:100%;height:400px;padding:2rem;font-size:1.5rem;line-height:normal;border:none;background:transparent;color:var(--text-color);outline:none;white-space:pre-wrap;overflow-y:auto;font-family:Courier New,Courier,monospace;position:relative;box-sizing:border-box}.cursor{display:inline-block;position:relative}.cursor-bar{width:2px;height:1.2em;background-color:var(--highlight-color);margin-left:-1px;vertical-align:text-bottom;animation:blink 1s step-end infinite}.cursor-block{background-color:var(--highlight-color);color:#1a1a1a;animation:blink-block 1s step-end infinite}.cursor-underline{border-bottom:3px solid var(--highlight-color);animation:blink-underline 1s step-end infinite}.pending-text{color:var(--accent-color);font-weight:700}@keyframes blink{0%,to{opacity:1}50%{opacity:0}}@keyframes blink-block{0%,to{background-color:var(--highlight-color);color:#1a1a1a}50%{background-color:transparent;color:inherit}}@keyframes blink-underline{0%,to{border-bottom-color:var(--highlight-color)}50%{border-bottom-color:transparent}}#editor{width:100%;height:100%;background:transparent;border:none;color:var(--color-text);font-size:2rem;font-family:Courier New,monospace;resize:none;outline:none;line-height:1.5}#grid-overview{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle,#1a1a1a 1px,transparent 1px) 0 0 / 40px 40px;background-color:#0f0f13;z-index:10;overflow:hidden}.grid-part{position:absolute;width:140px;height:180px;background:#222;border:2px solid #333;border-radius:8px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;transition:transform .2s,border-color .2s}.grid-part.selected{border-color:var(--color-accent);transform:scale(1.05);box-shadow:0 0 20px #ff00554d;z-index:5}.grid-part-thumb{flex:1;width:100%;background:#111;margin-bottom:8px;border-radius:4px;overflow:hidden;color:#666;font-size:8px;padding:4px;font-family:monospace;white-space:pre-wrap}.grid-part-name{font-size:.9rem;font-weight:700;color:#ccc;text-align:center}.grid-empty-slot{border:2px dashed #333;background:transparent}.visualizer{position:absolute;display:flex;justify-content:center;align-items:center;pointer-events:none;width:100%;gap:4rem;transition:all .5s ease;z-index:20}.vis-bottom-center{bottom:100px;left:0;justify-content:center}.vis-bottom-outer{bottom:100px;left:0;justify-content:space-between;padding:0 4rem}.vis-top-center{top:40px;left:0;justify-content:center}.vis-top-outer{top:40px;left:0;justify-content:space-between;padding:0 4rem}.joystick{width:200px;height:200px;border-radius:50%;background:radial-gradient(circle at center,#ffffff0d,#ffffff03 70%);border:2px solid rgba(255,255,255,.1);position:relative;box-shadow:0 0 20px #00000080}.stick-point{width:20px;height:20px;background:var(--color-primary);border-radius:50%;position:absolute;top:50%;left:50%;margin-top:-10px;margin-left:-10px;z-index:10;transition:transform .05s linear;box-shadow:0 0 10px var(--color-primary)}.segment-container{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.segment{position:absolute;width:100%;height:100%;border-radius:50%}.segment-label{position:absolute;font-size:1.2rem;font-weight:700;color:#ffffff4d;transition:all .2s ease}.segment[data-sector=NORTH] .segment-label{top:15px;left:50%;transform:translate(-50%)}.segment[data-sector=NORTH_EAST] .segment-label{top:18%;right:18%}.segment[data-sector=EAST] .segment-label{top:50%;right:15px;transform:translateY(-50%)}.segment[data-sector=SOUTH_EAST] .segment-label{bottom:18%;right:18%}.segment[data-sector=SOUTH] .segment-label{bottom:15px;left:50%;transform:translate(-50%)}.segment[data-sector=SOUTH_WEST] .segment-label{bottom:18%;left:18%}.segment[data-sector=WEST] .segment-label{top:50%;left:15px;transform:translateY(-50%)}.segment[data-sector=NORTH_WEST] .segment-label{top:18%;left:18%}.segment.active .segment-label{color:var(--color-accent);text-shadow:0 0 15px var(--color-accent);font-size:1.6rem;z-index:5}#debug-status{position:fixed;font-family:monospace;background:#000c;padding:10px;border-radius:4px;color:#888;font-size:.7rem;pointer-events:none;z-index:100}.debug-bottom-right{bottom:90px;right:20px}.debug-top-right{top:20px;right:20px}.status-box{text-align:right}#connection-status{font-weight:700;color:#666}.subtitle{font-size:.8rem;color:#444}.modal-overlay{position:absolute;top:auto;left:auto;bottom:80px;right:20px;width:auto;height:auto;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;display:flex;justify-content:flex-end;align-items:flex-end;z-index:100;pointer-events:none}.modal-content{background:var(--color-surface);padding:1.5rem;border-radius:12px;width:450px;max-width:90%;box-shadow:0 10px 30px #00000080;border:1px solid rgba(255,255,255,.1);pointer-events:auto}.modal-content h2{margin-bottom:1.5rem;text-align:center;color:var(--primary);text-transform:uppercase;letter-spacing:.1em}.rename-input-container{width:100%;background:#0000004d;border-radius:8px;padding:10px;margin-bottom:1rem;border:1px solid rgba(255,255,255,.1)}#rename-input{width:100%;background:transparent;border:none;color:#fff;font-size:1.5rem;font-family:monospace;text-align:center;outline:none}.settings-item{display:flex;justify-content:space-between;padding:1rem;border-bottom:1px solid rgba(255,255,255,.05);cursor:pointer;transition:background .2s}.done-btn{margin-top:1rem;justify-content:center;background:var(--color-primary);border-color:var(--color-primary);font-weight:700;border-radius:8px}.done-btn.selected{background:var(--color-accent)!important;border-color:var(--color-accent)!important}.settings-item.selected{background:var(--color-surface-hover);border-left:4px solid var(--color-accent);padding-left:calc(1rem - 4px)}.settings-label{font-weight:500}.settings-value{color:var(--secondary);font-weight:700}.modal-footer{margin-top:2rem;text-align:center;font-size:.8rem;color:#ffffff80}.settings-trigger{font-size:1.5rem;cursor:pointer;z-index:50;opacity:.5;transition:opacity .2s;padding:8px 12px}.settings-trigger:hover{opacity:1}.action-btn{background:var(--color-accent);color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;font-weight:700;cursor:pointer;margin-top:1rem}.action-btn:hover{background:var(--color-accent-dim)}.secondary-btn{background:transparent;border:1px solid rgba(255,255,255,.2);color:#ccc;padding:.5rem 1rem;border-radius:4px;cursor:pointer}.danger-btn{background:transparent;border:1px solid #ff4444;color:#f44;padding:.5rem 1rem;border-radius:4px;cursor:pointer}.calibration-content{text-align:center}.calibration-prompt{font-size:1.5rem;font-weight:700;margin:1.5rem 0;color:var(--color-accent);min-height:2rem}.calibration-actions{display:flex;justify-content:center;gap:1rem}.vis-body{width:200px;height:120px;background:#ffffff1a;border-radius:40px;margin:0 auto;position:relative}.vis-btn{position:absolute;width:20px;height:20px;background:#333;border-radius:50%;font-size:10px;display:flex;justify-content:center;align-items:center;color:#aaa}.vis-btn.active{background:var(--color-accent);color:#fff;box-shadow:0 0 10px var(--color-accent)}.vis-btn.skipped{background:#fc0;color:#000}.vis-stick.skipped,.vis-dpad.skipped{border-color:#fc0;color:#fc0}.vis-l-shoulder{top:-10px;left:30px;border-radius:4px;width:40px}.vis-r-shoulder{top:-10px;right:30px;border-radius:4px;width:40px}.vis-l-trigger{top:-25px;left:30px;height:10px;width:40px;border-radius:2px}.vis-r-trigger{top:-25px;right:30px;height:10px;width:40px;border-radius:2px}.vis-dpad{position:absolute;top:40px;left:20px;width:40px;height:40px;background:#333;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:8px}.vis-dpad.active{background:var(--color-accent);color:#fff}.vis-stick{position:absolute;width:30px;height:30px;background:#222;border-radius:50%;border:1px solid #444;display:flex;align-items:center;justify-content:center;font-size:8px}.vis-l-stick{bottom:20px;left:60px}.vis-r-stick{bottom:20px;right:60px}.vis-stick.active{border-color:var(--color-accent);color:var(--color-accent)}.vis-select{top:40px;left:80px;width:14px;height:8px;border-radius:2px;font-size:0}.vis-start{top:40px;right:80px;width:14px;height:8px;border-radius:2px;font-size:0}.vis-select.active,.vis-start.active{background:var(--color-accent)}.flash-error{animation:flashRed .5s ease-in-out}@keyframes flashRed{0%,to{background-color:#333;box-shadow:none}50%{background-color:#f44;box-shadow:0 0 20px #f44}}.vis-face-btns{position:absolute;top:30px;right:20px;width:50px;height:50px}.vis-y{top:0;left:15px}.vis-x{top:15px;left:0}.vis-b{top:15px;right:0}.vis-a{bottom:0;left:15px}.icon-blue,.icon-yellow,.icon-green,.icon-red,.icon-grey{width:24px;height:24px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;color:#fff;font-size:.8rem;margin-right:4px;text-shadow:none}.icon-blue{background-color:#4facfe}.icon-yellow{background-color:#f6d365;color:#333}.icon-green{background-color:#43e97b;color:#333}.icon-red{background-color:#ff5858}.icon-grey{background-color:#a0a0a0}@keyframes shake{0%{transform:translate(1px,1px) rotate(0)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0)}to{transform:translate(1px,-2px) rotate(-1deg)}}.shake{animation:shake .5s;animation-iteration-count:infinite}.status-warning{color:#fc0!important}.status-success{color:#0f0!important;animation:flash-green 1s ease-out}@keyframes flash-green{0%{color:#0f0;text-shadow:0 0 10px #00ff00;scale:1.5}to{color:inherit;text-shadow:none;scale:1}}
